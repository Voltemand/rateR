<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Retrieve MCMC convergence diagnostics for a rater fit — mcmc_diagnostics • rater</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Retrieve MCMC convergence diagnostics for a rater fit — mcmc_diagnostics" />
<meta property="og:description" content="Retrieve MCMC convergence diagnostics for a rater fit" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rater</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/workflow.html">rater workflow</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Voltemand/rater">
    <span class="fa fa-lg fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Retrieve MCMC convergence diagnostics for a rater fit</h1>
    <small class="dont-index">Source: <a href='https://github.com/jeffreypullin/rater/blob/master/R/extract.R'><code>R/extract.R</code></a></small>
    <div class="hidden name"><code>mcmc_diagnostics.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Retrieve MCMC convergence diagnostics for a rater fit</p>
    </div>

    <pre class="usage"><span class='fu'>mcmc_diagnostics</span><span class='op'>(</span><span class='va'>fit</span>, pars <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"pi"</span>, <span class='st'>"theta"</span><span class='op'>)</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>fit</th>
      <td><p>An rater <code>mcmc_fit</code> object.</p></td>
    </tr>
    <tr>
      <th>pars</th>
      <td><p>A character vector of parameter names to return. By default
<code><a href='https://rdrr.io/r/base/c.html'>c("pi", "theta")</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A matrix where the columns represent different diagnostics and the
rows are different parameters. Currently the first column contains
the Rhat statistic and the second bulk effective samples size. The
rownames contain the parameter names.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>MCMC diagnostics cannot be calculate for the z due to the
marginalisation used to fit the models.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Aki Vehtari, Andrew Gelman, Daniel Simpson, Bob Carpenter, and
Paul-Christian Bürkner (2019). Rank-normalization, folding, and
localization: An improved R-hat for assessing convergence of
MCMC. <em>arXiv preprint</em> <code>arXiv:1903.08008</code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://mc-stan.org/rstan/reference/Rhat.html'>rstan::Rhat()</a></code>, <code><a href='https://mc-stan.org/rstan/reference/Rhat.html'>rstan::ess_bulk()</a></code>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>

<span class='va'>fit</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rater.html'>rater</a></span><span class='op'>(</span><span class='va'>anesthesia</span>, <span class='st'>"dawid_skene"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'dawid_skene' NOW (CHAIN 1).
#&gt; Chain 1: 
#&gt; Chain 1: Gradient evaluation took 0.000162 seconds
#&gt; Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 1.62 seconds.
#&gt; Chain 1: Adjust your expectations accordingly!
#&gt; Chain 1: 
#&gt; Chain 1: 
#&gt; Chain 1: Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1: Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1: Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1: Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1: Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1: Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1: Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1: Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1: Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1: Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1: Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1: Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt; Chain 1: 
#&gt; Chain 1:  Elapsed Time: 2.35042 seconds (Warm-up)
#&gt; Chain 1:                2.4539 seconds (Sampling)
#&gt; Chain 1:                4.80432 seconds (Total)
#&gt; Chain 1: 
#&gt; 
#&gt; SAMPLING FOR MODEL 'dawid_skene' NOW (CHAIN 2).
#&gt; Chain 2: 
#&gt; Chain 2: Gradient evaluation took 0.000167 seconds
#&gt; Chain 2: 1000 transitions using 10 leapfrog steps per transition would take 1.67 seconds.
#&gt; Chain 2: Adjust your expectations accordingly!
#&gt; Chain 2: 
#&gt; Chain 2: 
#&gt; Chain 2: Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2: Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2: Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2: Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2: Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2: Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2: Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2: Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2: Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2: Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2: Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2: Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt; Chain 2: 
#&gt; Chain 2:  Elapsed Time: 2.21666 seconds (Warm-up)
#&gt; Chain 2:                2.40762 seconds (Sampling)
#&gt; Chain 2:                4.62429 seconds (Total)
#&gt; Chain 2: 
#&gt; 
#&gt; SAMPLING FOR MODEL 'dawid_skene' NOW (CHAIN 3).
#&gt; Chain 3: 
#&gt; Chain 3: Gradient evaluation took 0.000156 seconds
#&gt; Chain 3: 1000 transitions using 10 leapfrog steps per transition would take 1.56 seconds.
#&gt; Chain 3: Adjust your expectations accordingly!
#&gt; Chain 3: 
#&gt; Chain 3: 
#&gt; Chain 3: Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3: Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3: Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3: Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3: Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3: Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3: Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3: Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3: Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3: Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3: Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3: Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt; Chain 3: 
#&gt; Chain 3:  Elapsed Time: 2.32042 seconds (Warm-up)
#&gt; Chain 3:                2.50758 seconds (Sampling)
#&gt; Chain 3:                4.828 seconds (Total)
#&gt; Chain 3: 
#&gt; 
#&gt; SAMPLING FOR MODEL 'dawid_skene' NOW (CHAIN 4).
#&gt; Chain 4: 
#&gt; Chain 4: Gradient evaluation took 0.000157 seconds
#&gt; Chain 4: 1000 transitions using 10 leapfrog steps per transition would take 1.57 seconds.
#&gt; Chain 4: Adjust your expectations accordingly!
#&gt; Chain 4: 
#&gt; Chain 4: 
#&gt; Chain 4: Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4: Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4: Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4: Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4: Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4: Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4: Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4: Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4: Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4: Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4: Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4: Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt; Chain 4: 
#&gt; Chain 4:  Elapsed Time: 2.26104 seconds (Warm-up)
#&gt; Chain 4:                2.32141 seconds (Sampling)
#&gt; Chain 4:                4.58245 seconds (Total)
#&gt; Chain 4: </div><div class='input'>
<span class='co'># Calculate the diagnostics for all parameters.</span>
<span class='fu'>mcmc_diagnostics</span><span class='op'>(</span><span class='va'>fit</span><span class='op'>)</span>
</div><div class='output co'>#&gt;                     Rhat ess_bulk
#&gt; pi[1]          1.0006874 9165.515
#&gt; pi[2]          1.0000095 7435.337
#&gt; pi[3]          1.0000698 7010.809
#&gt; pi[4]          1.0019716 7099.340
#&gt; theta[1, 1, 1] 1.0006911 7350.180
#&gt; theta[1, 1, 2] 1.0012603 6915.628
#&gt; theta[1, 1, 3] 0.9997892 4570.808
#&gt; theta[1, 1, 4] 1.0005698 5476.473
#&gt; theta[1, 2, 1] 1.0002884 5451.698
#&gt; theta[1, 2, 2] 1.0017554 7573.263
#&gt; theta[1, 2, 3] 1.0011414 7145.931
#&gt; theta[1, 2, 4] 1.0007399 5689.668
#&gt; theta[1, 3, 1] 1.0001895 4581.661
#&gt; theta[1, 3, 2] 1.0000589 4060.818
#&gt; theta[1, 3, 3] 1.0039186 4965.210
#&gt; theta[1, 3, 4] 1.0001973 4068.320
#&gt; theta[1, 4, 1] 1.0018336 5319.441
#&gt; theta[1, 4, 2] 1.0007460 5094.769
#&gt; theta[1, 4, 3] 1.0005415 3667.178
#&gt; theta[1, 4, 4] 1.0008039 4838.014
#&gt; theta[2, 1, 1] 1.0009069 7333.458
#&gt; theta[2, 1, 2] 1.0012992 6679.299
#&gt; theta[2, 1, 3] 0.9995234 6197.190
#&gt; theta[2, 1, 4] 1.0012822 5416.188
#&gt; theta[2, 2, 1] 1.0013879 5422.098
#&gt; theta[2, 2, 2] 1.0000269 7618.734
#&gt; theta[2, 2, 3] 0.9999148 7168.803
#&gt; theta[2, 2, 4] 1.0006752 5242.643
#&gt; theta[2, 3, 1] 1.0015658 6024.517
#&gt; theta[2, 3, 2] 1.0008364 5225.844
#&gt; theta[2, 3, 3] 1.0000552 5769.258
#&gt; theta[2, 3, 4] 1.0009687 5185.471
#&gt; theta[2, 4, 1] 1.0028758 5217.953
#&gt; theta[2, 4, 2] 1.0004153 5713.684
#&gt; theta[2, 4, 3] 1.0007788 6359.119
#&gt; theta[2, 4, 4] 0.9995145 5900.342
#&gt; theta[3, 1, 1] 1.0020730 6426.711
#&gt; theta[3, 1, 2] 1.0003359 5437.425
#&gt; theta[3, 1, 3] 1.0023235 5339.487
#&gt; theta[3, 1, 4] 1.0006497 5337.428
#&gt; theta[3, 2, 1] 1.0002669 5771.379
#&gt; theta[3, 2, 2] 1.0014357 6992.115
#&gt; theta[3, 2, 3] 1.0015851 7845.650
#&gt; theta[3, 2, 4] 1.0012477 5730.388
#&gt; theta[3, 3, 1] 1.0016708 5416.998
#&gt; theta[3, 3, 2] 1.0002243 7332.935
#&gt; theta[3, 3, 3] 1.0001119 7346.074
#&gt; theta[3, 3, 4] 1.0011757 7466.608
#&gt; theta[3, 4, 1] 0.9997852 5563.553
#&gt; theta[3, 4, 2] 1.0011315 4971.381
#&gt; theta[3, 4, 3] 1.0010613 4265.540
#&gt; theta[3, 4, 4] 1.0000629 6109.696
#&gt; theta[4, 1, 1] 1.0004442 7004.972
#&gt; theta[4, 1, 2] 1.0016262 5972.479
#&gt; theta[4, 1, 3] 0.9997587 5615.267
#&gt; theta[4, 1, 4] 1.0002934 4892.751
#&gt; theta[4, 2, 1] 1.0004065 6501.743
#&gt; theta[4, 2, 2] 1.0040249 7221.118
#&gt; theta[4, 2, 3] 1.0011188 6687.334
#&gt; theta[4, 2, 4] 1.0023318 5352.540
#&gt; theta[4, 3, 1] 1.0015256 4559.254
#&gt; theta[4, 3, 2] 1.0003687 5257.267
#&gt; theta[4, 3, 3] 1.0008385 5973.068
#&gt; theta[4, 3, 4] 1.0008532 4543.026
#&gt; theta[4, 4, 1] 0.9999175 4693.724
#&gt; theta[4, 4, 2] 1.0006661 5006.557
#&gt; theta[4, 4, 3] 0.9999001 5428.939
#&gt; theta[4, 4, 4] 1.0001529 6570.219
#&gt; theta[5, 1, 1] 1.0003145 6723.214
#&gt; theta[5, 1, 2] 1.0006152 4981.374
#&gt; theta[5, 1, 3] 1.0020150 5497.373
#&gt; theta[5, 1, 4] 1.0006912 5686.466
#&gt; theta[5, 2, 1] 1.0021598 6808.272
#&gt; theta[5, 2, 2] 1.0015022 7410.671
#&gt; theta[5, 2, 3] 1.0004876 6682.222
#&gt; theta[5, 2, 4] 1.0010714 5409.959
#&gt; theta[5, 3, 1] 0.9998827 5089.149
#&gt; theta[5, 3, 2] 0.9993039 6145.370
#&gt; theta[5, 3, 3] 1.0001661 6808.274
#&gt; theta[5, 3, 4] 0.9998667 6189.820
#&gt; theta[5, 4, 1] 0.9999274 5220.206
#&gt; theta[5, 4, 2] 1.0003150 5069.214
#&gt; theta[5, 4, 3] 1.0000284 5317.893
#&gt; theta[5, 4, 4] 1.0011572 6229.724</div><div class='input'>
<span class='co'># Calculate the diagnostics just for the pi parameter.</span>
<span class='fu'>mcmc_diagnostics</span><span class='op'>(</span><span class='va'>fit</span>, pars <span class='op'>=</span> <span class='st'>"pi"</span><span class='op'>)</span>
</div><div class='output co'>#&gt;           Rhat ess_bulk
#&gt; pi[1] 1.000687 9165.515
#&gt; pi[2] 1.000009 7435.337
#&gt; pi[3] 1.000070 7010.809
#&gt; pi[4] 1.001972 7099.340</div><div class='input'>
<span class='co'># }</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jeffrey Pullin, Damjan Vukcevic.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


